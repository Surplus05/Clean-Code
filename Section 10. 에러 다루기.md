# 에러 다루기

## 유효성 검사

사용자의 입력 값이 유효한지 검증하는 것.

예시) 전화번호는 숫자만 입력하게 함.  
예시) 이메일은 @ . 이 포함되게 함.

1차적으로 통과 후 서버와 통신.  
서버 부하를 줄일 수 있다.

다양한 유효성 검사 방법들

정규식, js문법, 웹표준 API 등등 ...

웹 표준 API부터 살펴 보자.

minlength, required 등 많은 옵션을 지원한다.

유효성 검사는 프론트, 백 전부 엄격하게 이루어지는게 좋다.

## try, catch, finally

에러가 발생될 것으로 예상되는 코드를 try 내부에 작성.  
예외 처리 부분을 catch 내부에 작성.  
에러가 발생했던 안했던 실행시킬 코드를 finally에 작성.

try-catch 는 함수 단위로 사용하는 것을 권장하며 중첩하지 말자.  
개발자의 관점에서 에러가 안날 것이라 예상하지 말자.

```js
try {
  // 에러 예상
} catch {
  // 1. 개발자를 위한 예외처리
  // 2. 사용자를 위한 예외처리
  // 3. 사용자에게 사용을 제안
  // 4. 에러 로그 수집
  // 5. 필요에 따라 사용
} finally {
  // 데이터 분석 로그 또는 기타 작업
}
```

대부분 console.log(error) 를 통해 로그만 찍게 되는데, 다른 예외처리도 해주는 것이 좋다.

사용자를 위한 예외처리 -> 그냥 에러를 보여주지 말고 사용자를 위해 메시지를 출력 해 주자.  
사용자는 404 에러를 이해하지 못함.

사용자에게 사용을 제안 -> 뒤로가거나, 포커스를 설정하거나, ...

필요에 따라 사용 -> 재귀 호출 등

## 사용자에게 알려주기

동료 개발자일 수 있고, 라이브러리 사용자일 수 있고, 실제 어플리케이션 사용자일 수 있다.

팁 -> 생성자로 사용시키고 싶으면 !new.target 으로 조건 검사.

throw new Error('error');

뿐 만 아니라 에러 타입도 지정해줄 수 있다.

throw new RefrenceError('error');

비밀번호 타입 조건이 부족하다면 해당 input element로 포커스를 주자 -> 더 사용이 편해진다.

예외처리시 console.log(error) 만 해주는 것이 아니라, 사용 유도, 대처법 안내 등 더욱더 사용을 원활하게 해 주자.
